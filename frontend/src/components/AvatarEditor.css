.avatar-editor {.avatar-editor {

  max-width: 800px;  max-width: 1200px;

  margin: 0 auto;  margin: 0 auto;

  padding: 2rem 1rem;  padding: 2.5rem 1.5rem;

}}



.editor-header {.editor-header {

  text-align: center;  display: flex;

  margin-bottom: 2rem;  justify-content: space-between;

}  align-items: center;

  margin-bottom: 2.5rem;

.editor-header h2 {  flex-wrap: wrap;

  font-size: 2rem;  gap: 1.5rem;

  font-weight: 700;}

  color: var(--primary);

  margin-bottom: 0.5rem;.editor-header h2 {

}  font-size: 2rem;

  font-weight: 700;

.editor-header p {  color: var(--text-primary);

  color: var(--text-secondary);  letter-spacing: -0.02em;

  font-size: 1rem;}

}

.activity-points {

/* メッセージ */  display: flex;

.error-message {  align-items: center;

  background: #fee;  gap: 0.75rem;

  color: #c33;  background: linear-gradient(135deg, var(--primary), var(--accent));

  padding: 1rem;  padding: 0.875rem 1.75rem;

  border-radius: var(--radius-lg);  border-radius: var(--radius-full);

  margin-bottom: 1.5rem;  color: var(--text-inverse);

  border: 1px solid #fcc;  font-weight: 600;

}  box-shadow: var(--shadow-md);

  transition: all var(--transition-base);

.success-message {}

  background: #efe;

  color: #3c3;.activity-points:hover {

  padding: 1rem;  box-shadow: var(--shadow-glow);

  border-radius: var(--radius-lg);  transform: translateY(-2px);

  margin-bottom: 1.5rem;}

  border: 1px solid #cfc;

}.points-value {

  font-size: 1.375rem;

/* アバタープレビュー */  font-weight: 700;

.avatar-preview {}

  background: var(--surface);

  border: 2px solid var(--border-primary);.editor-content {

  border-radius: var(--radius-xl);  display: grid;

  padding: 2rem;  grid-template-columns: 380px 1fr;

  margin-bottom: 2rem;  gap: 2rem;

  text-align: center;}

}

/* Preview Section */

.avatar-preview h3 {.preview-section {

  font-size: 1.25rem;  background: var(--surface);

  font-weight: 600;  border: 1px solid var(--border-primary);

  margin-bottom: 1rem;  border-radius: var(--radius-xl);

  color: var(--text-primary);  padding: 2rem;

}  box-shadow: var(--shadow-lg);

  height: fit-content;

.preview-display {  position: sticky;

  background: var(--bg-elevated);  top: 1.5rem;

  border-radius: var(--radius-lg);  transition: all var(--transition-base);

  padding: 2rem;}

  display: flex;

  justify-content: center;.preview-section:hover {

  align-items: center;  box-shadow: var(--shadow-xl);

  min-height: 150px;}

}

.preview-section h3 {

.avatar-emoji {  font-size: 1.25rem;

  font-size: 4rem;  font-weight: 700;

  line-height: 1;  margin-bottom: 1.5rem;

  letter-spacing: 0.25rem;  color: var(--text-primary);

}  letter-spacing: -0.01em;

}

/* カテゴリタブ */

.category-tabs {.avatar-preview {

  display: flex;  background: var(--bg-elevated);

  gap: 0.5rem;  border: 1px solid var(--border-primary);

  margin-bottom: 1.5rem;  border-radius: var(--radius-lg);

  flex-wrap: wrap;  padding: 3rem 2rem;

}  margin-bottom: 1.5rem;

  min-height: 320px;

.category-tab {  display: flex;

  flex: 1;  align-items: center;

  min-width: 120px;  justify-content: center;

  display: flex;  position: relative;

  flex-direction: column;  overflow: hidden;

  align-items: center;}

  gap: 0.5rem;

  padding: 1rem;.avatar-preview::before {

  background: var(--surface);  content: '';

  border: 2px solid var(--border-primary);  position: absolute;

  border-radius: var(--radius-lg);  inset: 0;

  cursor: pointer;  background: 

  transition: all 0.2s;    radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.03), transparent 50%),

  font-size: 0.9rem;    radial-gradient(circle at 80% 50%, rgba(139, 92, 246, 0.03), transparent 50%);

  font-weight: 500;}

}

.avatar-placeholder {

.category-tab:hover {  text-align: center;

  background: var(--bg-elevated);  position: relative;

  border-color: var(--primary);  z-index: 1;

  transform: translateY(-2px);}

}

.avatar-placeholder p:first-child {

.category-tab.active {  font-size: 7rem;

  background: linear-gradient(135deg, var(--primary), var(--secondary));  margin: 0;

  color: white;  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.1));

  border-color: var(--primary);}

  box-shadow: var(--shadow-md);

}.preview-note {

  font-size: 0.8125rem;

.tab-icon {  color: var(--text-tertiary);

  font-size: 1.5rem;  margin-top: 1rem;

}  font-weight: 500;

}

.tab-label {

  font-size: 0.875rem;.preview-actions {

}  display: flex;

  flex-direction: column;

/* 絵文字グリッド */  gap: 0.875rem;

.emoji-grid {}

  display: grid;

  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));.preview-actions .btn {

  gap: 0.75rem;  width: 100%;

  margin-bottom: 2rem;}

  padding: 1.5rem;

  background: var(--surface);/* Parts Section */

  border: 2px solid var(--border-primary);.parts-section {

  border-radius: var(--radius-xl);  background: var(--surface);

}  border: 1px solid var(--border-primary);

  border-radius: var(--radius-xl);

.emoji-button {  padding: 2rem;

  aspect-ratio: 1;  box-shadow: var(--shadow-lg);

  display: flex;  transition: all var(--transition-base);

  align-items: center;}

  justify-content: center;

  font-size: 2.5rem;.parts-section:hover {

  background: var(--bg-elevated);  box-shadow: var(--shadow-xl);

  border: 2px solid var(--border-primary);}

  border-radius: var(--radius-lg);

  cursor: pointer;.category-tabs {

  transition: all 0.2s;  display: flex;

  padding: 0;  gap: 0.5rem;

}  margin-bottom: 2rem;

  overflow-x: auto;

.emoji-button:hover {  padding: 0.25rem;

  background: var(--bg-hover);  background: var(--bg-elevated);

  border-color: var(--accent);  border-radius: var(--radius-lg);

  transform: scale(1.1);  box-shadow: var(--shadow-sm);

}}



.emoji-button.selected {.category-tab {

  background: linear-gradient(135deg, var(--primary), var(--accent));  display: flex;

  border-color: var(--primary);  flex-direction: column;

  box-shadow: var(--shadow-lg);  align-items: center;

  transform: scale(1.05);  gap: 0.375rem;

}  padding: 0.875rem 1.25rem;

  background: transparent;

.emoji-button.selected:hover {  border: none;

  transform: scale(1.15);  border-radius: var(--radius-md);

}  cursor: pointer;

  transition: all var(--transition-base);

/* 保存ボタン */  min-width: 90px;

.editor-actions {  color: var(--text-secondary);

  display: flex;  font-weight: 600;

  justify-content: center;}

}

.category-tab:hover:not(.active) {

.btn-save {  background: var(--surface-hover);

  padding: 1rem 3rem;  color: var(--text-primary);

  font-size: 1.125rem;}

  font-weight: 600;

  background: linear-gradient(135deg, var(--primary), var(--secondary));.category-tab.active {

  color: white;  background: linear-gradient(135deg, var(--primary), var(--primary-dark));

  border: none;  color: var(--text-inverse);

  border-radius: var(--radius-full);  box-shadow: var(--shadow-md);

  cursor: pointer;}

  transition: all 0.3s;

  box-shadow: var(--shadow-md);.tab-label {

}  font-size: 0.8125rem;

  font-weight: 600;

.btn-save:hover:not(:disabled) {  letter-spacing: 0.02em;

  box-shadow: var(--shadow-glow);}

  transform: translateY(-2px);

}/* Parts Grid */

.parts-grid {

.btn-save:disabled {  display: grid;

  opacity: 0.6;  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));

  cursor: not-allowed;  gap: 1.25rem;

}  max-height: 620px;

  overflow-y: auto;

/* レスポンシブ */  padding: 0.5rem;

@media (max-width: 768px) {  scrollbar-width: thin;

  .avatar-editor {  scrollbar-color: var(--border-secondary) transparent;

    padding: 1rem 0.5rem;}

  }

.parts-grid::-webkit-scrollbar {

  .editor-header h2 {  width: 8px;

    font-size: 1.5rem;}

  }

.parts-grid::-webkit-scrollbar-track {

  .avatar-emoji {  background: transparent;

    font-size: 3rem;}

    letter-spacing: 0.15rem;

  }.parts-grid::-webkit-scrollbar-thumb {

  background: var(--border-secondary);

  .category-tabs {  border-radius: var(--radius-full);

    gap: 0.25rem;}

  }

.parts-grid::-webkit-scrollbar-thumb:hover {

  .category-tab {  background: var(--border-focus);

    min-width: 80px;}

    padding: 0.75rem 0.5rem;

  }.part-card {

  position: relative;

  .tab-icon {  background: var(--bg-elevated);

    font-size: 1.25rem;  border: 1.5px solid var(--border-primary);

  }  border-radius: var(--radius-md);

  padding: 1.25rem 1rem;

  .tab-label {  display: flex;

    font-size: 0.75rem;  flex-direction: column;

  }  gap: 0.875rem;

  transition: all var(--transition-base);

  .emoji-grid {  cursor: pointer;

    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));  overflow: hidden;

    gap: 0.5rem;}

    padding: 1rem;

  }.part-card::before {

  content: '';

  .emoji-button {  position: absolute;

    font-size: 2rem;  top: 0;

  }  left: 0;

  right: 0;

  .btn-save {  height: 3px;

    padding: 0.875rem 2rem;  background: linear-gradient(90deg, var(--primary), var(--accent));

    font-size: 1rem;  transform: scaleX(0);

  }  transform-origin: left;

}  transition: transform var(--transition-base);

}

.part-card:hover::before {
  transform: scaleX(1);
}

.part-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
  border-color: var(--primary);
}

.part-card.selected {
  border-color: var(--primary);
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(6, 182, 212, 0.05));
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
}

.part-card.selected::before {
  transform: scaleX(1);
}

.part-card.locked {
  opacity: 0.5;
  cursor: not-allowed;
}

.part-card.locked:hover {
  transform: none;
  box-shadow: none;
  border-color: var(--border-primary);
}

.part-preview {
  height: 90px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--surface);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-sm);
  transition: all var(--transition-base);
}

.part-card:hover .part-preview {
  background: var(--surface-hover);
}

.color-swatch {
  width: 64px;
  height: 64px;
  border-radius: var(--radius-full);
  border: 3px solid var(--surface);
  box-shadow: var(--shadow-md);
  transition: all var(--transition-base);
}

.part-card:hover .color-swatch {
  transform: scale(1.05);
  box-shadow: var(--shadow-lg);
}

.part-info {
  flex: 1;
}

.part-name {
  font-weight: 600;
  font-size: 0.9375rem;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: 0.375rem;
  margin-bottom: 0.25rem;
}

.rarity-badge {
  font-size: 0.75rem;
  padding: 0.125rem 0.375rem;
  border-radius: var(--radius-sm);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.unlock-info {
  margin-top: 0.5rem;
}

.unlock-info small {
  color: var(--text-tertiary);
  font-size: 0.75rem;
  font-weight: 500;
  line-height: 1.4;
}

.part-actions {
  display: flex;
  gap: 0.625rem;
  margin-top: 0.5rem;
}

.btn-select,
.btn-unlock,
.btn-locked {
  flex: 1;
  padding: 0.625rem 0.875rem;
  border: none;
  border-radius: var(--radius-sm);
  font-size: 0.8125rem;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-base);
  letter-spacing: 0.01em;
}

.btn-select {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: var(--text-inverse);
  box-shadow: var(--shadow-sm);
}

.btn-select:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.btn-unlock {
  background: linear-gradient(135deg, var(--success), #059669);
  color: var(--text-inverse);
  box-shadow: var(--shadow-sm);
}

.btn-unlock:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.btn-locked {
  background: var(--bg-elevated);
  border: 1px solid var(--border-secondary);
  color: var(--text-tertiary);
  cursor: not-allowed;
}

.btn-locked:hover {
  transform: none;
  box-shadow: none;
}

/* Responsive */
@media (max-width: 992px) {
  .editor-content {
    grid-template-columns: 1fr;
  }
  
  .preview-section {
    position: static;
  }
}

@media (max-width: 768px) {
  .avatar-editor {
    padding: 1.5rem 1rem;
  }
  
  .editor-header {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .editor-header h2 {
    font-size: 1.5rem;
  }
  
  .parts-grid {
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
    gap: 1rem;
    max-height: 500px;
  }
  
  .category-tabs {
    gap: 0.375rem;
  }
  
  .category-tab {
    min-width: 75px;
    padding: 0.625rem 0.875rem;
  }
  
  .tab-label {
    font-size: 0.75rem;
  }
  
  .part-card {
    padding: 1rem 0.75rem;
  }
  
  .part-preview {
    height: 70px;
  }
  
  .color-swatch {
    width: 52px;
    height: 52px;
  }
}
